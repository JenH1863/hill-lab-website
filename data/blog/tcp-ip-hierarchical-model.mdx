---
title: TCP/IPの階層モデル
date: '2025-05-27'
tags: ['network', 'tcp/ip']
draft: false
summary: ハードウェア・ネットワークインタフェース層・インターネット層・トランスポート層・アプリケーション層、それぞれの役割と代表的なプロトコルを解説します。
---

## はじめに

この記事は、ハードウェア・ネットワークインタフェース層・インターネット層・トランスポート層・アプリケーション層、それぞれの役割と代表的なプロトコルを解説します。

対象読者は、ネットワークに自信のないバックエンドエンジニアです。  
それぞれの階層やプロトコルがお互いにどう関連しているか整理するのに役立つはずです。

<TOCInline toc={props.toc} exclude="はじめに" asDisclosure />

## 概要

TCP/IPの階層モデルは、ネットワークの通信を階層的に整理したものです。

![TCP/IPの階層モデル](/static/images/tcp-ip-hierarchical-model.png)

誤解しやすいのですが、TCP/IPはTCPプロトコルとIPプロトコルだけを指すわけではありません。  
DNSなどネットワーク通信を成り立たせるための他のプロトコルも含まれます。

## ハードウェア

**物理的にデータを転送するハードウェア**です。

具体的にはイーサネットや電話回線のことですが、その内容については何も決めていません。  
通信媒体はケーブルでも無線でもよく、帯域や遅延時間などについても自由です。

## ネットワークインタフェース層

**イーサネットなどのデータリンクを利用して通信をするためのインタフェース**です。

NICを動かすためのデバイスドライバと考えて差し支えありません。  
デバイスドライバはOSとハードウェアの橋渡しをするソフトウェアです。

## インターネット層

**最終目的のホストまでパケットを届ける役割**です。

主なプロトコル

- **IP**: ネットワークをまたいでパケットを配送し、インターネット全体にパケットを送り届けるためのプロトコル。それぞれのホストを識別するために、IPアドレスと呼ばれる識別子を使います。信頼性のないパケット交換プロトコルです。
- **ARP**: パケットの送り先の物理的なアドレスであるMACアドレスをIPアドレスから取得するプロトコル。
- **ICMP**: IPパケットの送信中に何らかの異常が発生してパケットを転送できなくなった場合に、パケットの送信元に異常を知らせるために使われるプロトコル。

## トランスポート層

**アプリケーションプログラム間の通信を実現する役割**です。

アプリケーションプログラムの識別にはポート番号という識別子が使われます。

主なプロトコル

- **TCP**: コネクション型で信頼性のあるデータ転送を行うプロトコル。ネットワークの利用効率を向上させるための複雑な仕組みがいろいろと組み込まれているので、ビデオ会議の音声・映像データなどのように一定間隔で決められた量のデータを転送する通信にはあまり向いていない。
- **UDP**: コネクションレス型で信頼性のないデータ転送を行うプロトコル。パケット数が少ない通信や、ブロードキャストやマルチキャストの通信、ビデオや音声などのマルチメディア通信に向いている。

## アプリケーション層

**アプリケーションプログラムの中で実現される機能**です。

主なプロトコル

- **DNS**: ドメイン名とIPアドレスの対応関係を管理するプロトコル。
- **HTTP**: ブラウザとサーバー間の通信で使われるプロトコル。
- **TLS**: ブラウザとサーバー間の通信を暗号化するプロトコル。

## まとめ

- **ハードウェア**: 物理的にデータを転送するハードウェア
- **ネットワークインタフェース層**: イーサネットなどのデータリンクを利用して通信をするためのインタフェース
- **インターネット層**: 最終目的のホストまでパケットを届ける役割
- **トランスポート層**: アプリケーションプログラム間の通信を実現する役割
- **アプリケーション層**: アプリケーションプログラムの中で実現される機能

## 参考文献

- [マスタリングTCP/IP　入門編](https://www.ohmsha.co.jp/book/9784274224478/)
